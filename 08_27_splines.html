<!DOCTYPE html>
<html>
<head>

  <meta charset="utf-8">
  <title>Soundcloud Viz</title>
  <!-- <script src='http://connect.soundcloud.com/sdk.js'></script> -->
  <script language="javascript" src="js/creative_coding.js"></script>
  <script language="javascript" src="js/canvas.js"></script>
  <script language="javascript" src="js/toxiclibs.js"></script>
  <script language="javascript" src="js/jquery-1.6.2.js"></script>
  <script language="javascript" src="js/simplex-noise.js"></script>

  <link rel="stylesheet" href="css/reset.css" type="text/css" media="screen" />
  <link rel="stylesheet" href="css/style.css" type="text/css" media="screen" />
  <link rel="stylesheet" href="css/audio.css" type="text/css" media="screen" />

</head>

<body style="background: #f7f7f7">
   
<script>

var ctx = createCanvas("canvas1");

// var seed = window.location.hash.substr(1) || String(Math.random()).split('.')[1]
// var r = random( seed )
// var simplex = new SimplexNoise( r )
// var simplex3 = simplex.noise3D.bind(simplex)

// var config = {
//     margin: 0.9,
//     activeLines : 10,
//     line_width: 3,
//     random : random,
//     simplex3 : simplex3,
//     maxAngle : Math.PI * 0.2,
//     lineLength : 5,
//     simplexScale : 0.6,
//     simplexDepthScale : 0.001,
//   }


// var lines = [];
// var active_lines = [];
// var was_hit, hit, curr_line_width; 
// var simplex = new SimplexNoise();

// var t = 0;
// var count = 0;
// var curve, change;

var num_gaps = 10;
ctx.strokeStyle = "black";
ctx.lineWidth = 0.2;
var size = 190;
ctx.background(0);
function draw() {
  ctx.save();
  ctx.globalCompositeOperation = "lighten";
  ctx.translate(w/2, h/2);
  ctx.rotate(radians(size/10));
  //ctx.background(240);
  size += 0.004;
//ctx.strokePolygon(w/2, h/2, num_gaps, 200);
polygonWobble(randomInt(10,40), size);
  ctx.restore();
}


function polygonWobble(sides, size){
   //var numberOfSides = 6;
       // size = 10;
    Xcenter = 0;
    Ycenter = 0;
    ctx.strokeStyle = rgba(randomInt(255),0.04);
    ctx.fillStyle = "black";

    ctx.beginPath();
    var start = random(-40, 40);
    ctx.moveTo (Xcenter +  (start + size) * Math.cos(0), Ycenter +  (start + size) *  Math.sin(0));          
    
    for (var i = 0; i <= sides-1; i += 2) 
    {
      var wobble = random(-40, 40);
        ctx.quadraticCurveTo (Xcenter +  (wobble + size) * Math.cos(i * 2 * Math.PI / sides), Ycenter +  (wobble + size) * Math.sin(i * 2 * Math.PI / sides),
          Xcenter +  (wobble + size) * Math.cos((i-1) * 2 * Math.PI / sides), Ycenter +  (wobble + size) * Math.sin((i-1) * 2 * Math.PI / sides));
        // ctx.fillEllipse(Xcenter +  (wobble + size - 3) * Math.cos(i * 2 * Math.PI / sides), Ycenter +  (wobble + size - 3) * Math.sin(i * 2 * Math.PI / sides), 6,6);
    }
    ctx.quadraticCurveTo (Xcenter +  (start + size) * Math.cos(sides * 2 * Math.PI / sides), Ycenter +  (start + size) * Math.sin(sides * 2 * Math.PI / sides),
      Xcenter +  (start + size) * Math.cos((sides-1) * 2 * Math.PI / sides), Ycenter +  (start + size) * Math.sin((sides-1) * 2 * Math.PI / sides));
    ctx.stroke();
    //ctx.fillEllipse(Xcenter +  (start + size - 3) * Math.cos(sides * 2 * Math.PI / sides), Ycenter +  (start + size - 3) * Math.sin(sides * 2 * Math.PI / sides), 6,6);
    
  
}



</script>
<!--  <script language="javascript" src="js/soundcloud.js"></script> -->
</body>
</html>
