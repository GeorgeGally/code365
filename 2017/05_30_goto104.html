<!DOCTYPE html>
<html>
 <head>
 <meta charset="utf-8">
 <title>goto 10</title>

 <script language="javascript" src="../js/creative_coding.js"></script>
<script language="javascript" src="../js/canvas.js"></script>
<script language="javascript" src="../js/vector.js"></script>
<script language="javascript" src="../js/particle_engine.js"></script>
<link rel="stylesheet"  href="../css/reset.css" type="text/css" media="screen" />
	<link rel="stylesheet" href="../css/style.css" type="text/css" media="screen" />
	<link rel="stylesheet" href="../css/audio.css" type="text/css" media="screen" />
 </head>
 <body style="background: #f3f3f3">

<script>


var ctx = createCanvas("canvas1");
var dir = 1;
  ctx.font="12px Courier";
  ctx.textAlign = "center";
var engine = new particleEngine(90, 65);
console.log(engine);
engine.border = false;
var txt = ["O", "1", "â€¢"]
for (var i = 0; i < engine.length; i++) {
  var p = engine.particles[i];
  p.txt = txt[0];
  p.on = 0;
  dir*=-1;
  p.dir.y = dir;
  p.speed.y = 2;
  p.tween = true;
}

function draw(){
ctx.background(0);
for (var i = 0; i < engine.length; i++) {
  var p = engine.particles[i];
  ctx.fillStyle = "white";
  // if (Sound.mapSound(i, engine.particles.length * 2) > 60 && chance(4)) {
  //   p.on ++;
  // }
  if (Sound.mapSound(i, engine.particles.length * 2) > 80) {
    p.on = 2;
  } else if (Sound.mapSound(i, engine.particles.length * 2) > 40) {
    p.on = 1;
  } else {
    p.on = 0;
  }
  p.pos.y += p.speed.y* p.dir.y;
  if(p.pos.y < 0) p.pos.y = h;
  if(p.pos.y > h) p.pos.y = 0;
  ctx.fillText(txt[p.on%3], p.pos.x, p.pos.y);
}
}

</script>
<script language="javascript" src="../js/soundcloud_new.js"></script>
</body>
</html>
