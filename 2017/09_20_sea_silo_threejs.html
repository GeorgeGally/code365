<!DOCTYPE html>
<html>
 <head>
 <meta charset="utf-8">
 <title>Sea Silo</title>

<script language="javascript" src="../js/creative_coding.js"></script>
<script language="javascript" src="../js/canvas.js"></script>
<script language="javascript" src="../js/physics2.js"></script>
<script language="javascript" src="../js/vector.js"></script>
<script language="javascript" src="../js/three.min.js"></script>
<script language="javascript" src='../js/threejs/controls/OrbitControls.js'></script>
<script language="javascript" src='../js/threejs/DeviceOrientationController.js'></script>
<link rel="stylesheet" href="../css/reset.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../css/style.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../css/audio.css" type="text/css" media="screen" />
 </head>
 <body style="background: #fff">

<script>
var ctx = createCanvas("canvas1");

var scene = new THREE.Scene();
var aspect = window.innerWidth / window.innerHeight;
var camera = new THREE.PerspectiveCamera( 80, aspect, 0.1, 1000 );
camera.lookAt(scene.position)

var d=0, t=0;

var renderer = new THREE.WebGLRenderer({antialias: true, logarithmicDepthBuffer: true});
renderer.setSize( w, h );

document.body.appendChild( renderer.domElement );

// var sz = random(4, 8);
// var geometry = new THREE.BoxGeometry( sz, sz, sz);
// geometry.dynamic = true;
//
// var dMaterial = new THREE.MeshDepthMaterial();
// dMaterial.shading = THREE.SmoothShading;

scene.fog = new THREE.FogExp2( 0x000000, 0.001 );

var silo_geometry = new THREE.CylinderGeometry( 100, 105, 220, 80, 80, true );
silo_geometry.openEnded = true;
var silo_material = new THREE.MeshDepthMaterial( {color: 0x333333} );
silo_material.side = THREE.DoubleSide;
silo_material.shading = THREE.SmoothShading;

var controls = new THREE.OrbitControls(camera, renderer.domElement);

				controls.target.set(
					camera.position.x + 0.1,
					camera.position.y,
					camera.position.z
					);


// var controls = new DeviceOrientationController(camera, renderer.domElement);

				// controls.target.set(
				// 	camera.position.x + 0.1,
				// 	camera.position.y,
				// 	camera.position.z
				// 	);

				// function setOrientationControls(e) {
				// 	if (!e.alpha) {
				// 		return;
				// 	}
        // }
        //
				// 	controls = new THREE.DeviceOrientationControls(camera, true);
					// controls.connect();
					// controls.update();

var silo = new THREE.Mesh( silo_geometry, silo_material );
scene.add( silo );

// for (var i = 0; i < num_particles; i++) {
//   plane[i] = new THREE.Mesh( geometry, dMaterial );
//   scene.add( plane[i] );
//   plane[i].rotation.z += (i * Math.PI);
//   // plane[i].position.x = random(-15,15);
//   plane[i].position.x = randomInt(-60, 60);
//   plane[i].position.y = randomInt(-62, 60);
//   plane[i].position.z = randomInt(-62, 62);
//   plane[i].start = new Vector(plane[i].position.x, plane[i].position.y,plane[i].position.z);
//   plane[i].position.normalize();
//   plane[i].position.multiplyScalar( Math.random() * 20 + 15 );
//   plane[i].s = 1;
//   plane[i].counter = random(-18,18);
//   plane[i].s2 = 1;
//   plane[i].me = i%3;
//   plane[i].scale.x = plane[i].scale.y = plane[i].scale.z = random(0.4, 2);
//
// }

renderer.setClearColor( 0xf7f7f7 );
camera.position.z = 30;
camera.near = 10;
camera.far  = 145;

function draw() {

  // scene.rotation.z+= 0.01;
  // scene.rotation.x+= 0.01;
  // scene.rotation.y += 0.01;

  renderer.render( scene, camera );

};


</script>

</body>
</html>
