<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Soundcloud Viz</title>
<script language="javascript" src="../js/creative_coding.js"></script>
<script language="javascript" src="../js/canvas.js"></script>
<script language="javascript" src="../js/vector.js"></script>
<script language="javascript" src="../js/vector_particles.js"></script>
<script language="javascript" src="../js/bezier.js"></script>

	<link rel="stylesheet" href="../css/reset.css" type="text/css" media="screen" />
	<link rel="stylesheet" href="../css/style.css" type="text/css" media="screen" />
	<link rel="stylesheet" href="../css/audio.css" type="text/css" media="screen" />

</head>
 <body style="background: #ffffee">

<script>

var ctx = createCanvas("canvas1");
var engine = new particleEngine(1);
var particles = engine.particles;
particles[0].speed = new Vector(100,100);

function draw(){
	particles[0].target.x = mouseX;
	particles[0].target.y = mouseY;
	// var curve = new Bezier (mouseX, mouseX, particles[0].pos.x,particles[0].pos.y);
	// var LUT = curve.getLUT(4);
	// ctx.fillEllipse(LUT[2].x, LUT[2].y, 5, 5);
	var a = angle(particles[0].pos.x, particles[0].pos.y, particles[0].target.x, particles[0].target.y);

	engine.moveToTarget();
	var dir_pointer = new Vector(Math.cos(a)*20, Math.sin(a)*20);
	ctx.line(dir_pointer.x, dir_pointer.y, particles[0].pos.x, particles[0].pos.y);

	ctx.fillEllipse(particles[0].pos.x, particles[0].pos.y, 10, 10)
	// if (mouseX != oldMouseX && mouseY != oldMouseY) {
	// 	ctx.line(mouseX, mouseY, oldMouseX, oldMouseY);
	// }
}

</script>

</body>
</html>
